/*!
 * pixi-graphics-format - v1.0.0
 * https://github.com/bigtimebuddy/pixi-graphics-format
 * Compiled Tue, 08 Aug 2017 15:07:56 UTC
 *
 * pixi-graphics-format is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */
!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i(e.__pixiGraphics={})}(this,function(e){"use strict";if("undefined"==typeof PIXI)throw"PixiJS required";var i=function(){function e(){}return Object.defineProperty(e,"EXTENSION",{get:function(){return"pgf"},enumerable:!0,configurable:!0}),e.parse=function(i,r){void 0===r&&(r=new PIXI.Graphics);for(var o=/^[a-z]{1,2}$/,t=i.split(" "),n=0;n<t.length;n++){var a=t[n];"#"===a[0]?t[n]=e.hexToUint(a):o.test(a)||(t[n]=parseFloat(a))}for(var s,l=[],c=0;c<=t.length;){var d=t[c++],f=void 0;"string"==typeof d&&(f=e.COMMANDS[d]||d),void 0===d||r[f]?(s&&(r[s].apply(r,l),l.length=0),s=f):l.push(d)}return r},e.stringify=function(i){for(var r=i.graphicsData,o="",t=0,n=1,a=0,s=0,l=1,c=0;c<r.length;c++){var d=r[c];d.fillColor===t&&d.fillAlpha===n||(t=d.fillColor,n=d.fillAlpha,o+="f #"+e.uintToHex(t)+" ",1!==n&&(o+=e.toPrecision(n)+" ")),d.lineWidth>0&&(d.lineWidth!==a||d.lineColor!==s||d.lineAlpha!==l)&&(a=d.lineWidth,s=d.lineColor,l=d.lineAlpha,o+="s "+e.toPrecision(a)+" ",(s>0||1!==l)&&(o+="#"+e.uintToHex(s)+" "),1!==l&&(o+=e.toPrecision(l)+" "));var f=d.shape,u=d.holes;if(f instanceof PIXI.Rectangle)o+="dr "+(p=e.toPrecision(f.x))+" "+(h=e.toPrecision(f.y))+" "+(P=e.toPrecision(f.width))+" "+(I=e.toPrecision(f.height))+" c ";else if(f instanceof PIXI.Ellipse){var p=e.toPrecision(f.x),h=e.toPrecision(f.y),P=e.toPrecision(f.width),I=e.toPrecision(f.height);o+="de "+p+" "+h+" "+P+" "+I+" c "}else if(f instanceof PIXI.Circle)o+="dc "+(p=e.toPrecision(f.x))+" "+(h=e.toPrecision(f.y))+" "+e.toPrecision(f.radius)+" c ";else if(f instanceof PIXI.Polygon){for(var g=f.points,v=g.length,X=g[0]===g[v-2]&&g[1]===g[v-1],x=X&&0===u.length?v/2-1:v/2,y=0;y<x;y++){var p=e.toPrecision(f.points[2*y]),h=e.toPrecision(f.points[2*y+1]);o+=(0===y?"m":"l")+" "+p+" "+h+" "}for(var T=0;T<u.length;T++){for(var m=u[T],w=m.points.length/2,E=0;E<w;E++){var p=e.toPrecision(m.points[2*E]),h=e.toPrecision(m.points[2*E+1]);o+=(0===E?"m":"l")+" "+p+" "+h+" "}o+="h "}X&&(o+="c ")}}return o.trim()},e.uintToHex=function(e){for(var i=e.toString(16);i.length<6;)i="0"+i;return i.replace(/([a-f0-9])\1([a-f0-9])\2([a-f0-9])\3/,"$1$2$3")},e.middleware=function(){return function(i,r){"pgf"===i.extension&&(i.graphics=e.parse(i.data)),r()}},e.hexToUint=function(e){return 3===(e=e.substr(1)).length&&(e=e.replace(/([a-f0-9])/g,"$1$1")),parseInt(e,16)},e.toPrecision=function(e,i){void 0===i&&(i=2);var r=Math.pow(10,i);return Math.round(e*r)/r},e.COMMANDS={c:"closePath",h:"addHole",m:"moveTo",l:"lineTo",q:"quadraticCurveTo",b:"bezierCurveTo",f:"beginFill",s:"lineStyle",dr:"drawRect",rr:"drawRoundedRect",rc:"drawRoundedRect",dc:"drawCircle",ar:"arc",at:"arcTo",de:"drawEllipse"},e}();PIXI.loader.use(i.middleware()),PIXI.loaders.Loader.addPixiMiddleware(i.middleware),PIXI.loaders.Resource.setExtensionXhrType(i.EXTENSION,PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT),PIXI.GraphicsFormat||Object.defineProperty(PIXI,"GraphicsFormat",{get:function(){return i}}),e.GraphicsFormat=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=pixi-graphics.js.map
